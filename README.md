# ๐ฎ Red Strong Tetris

ูุนุจุฉ ุชุชุฑูุณ ุงุญุชุฑุงููุฉ ูุน ูุธุงู ุฌูุงุฆุฒ ููุณุงุจูุงุช ูุฏุฑุฏุดุฉ - ูุจููุฉ ุจู Node.js

![Version](https://img.shields.io/badge/version-68.0-blue)
![Node](https://img.shields.io/badge/node-18+-green)
![License](https://img.shields.io/badge/license-MIT-yellow)

---

## โจ ุงูููุฒุงุช

### ๐ฎ ุงููุนุจุฉ
- ุชุชุฑูุณ ูุงูู ูุน ูุธุงู SRS ููุฏูุฑุงู
- Ghost piece (ุนุฑุถ ููุงู ุงูุณููุท)
- Hold piece (ุญูุธ ูุทุนุฉ)
- Hard drop & Soft drop
- T-Spin detection
- Combo system
- 4 ุฃูุถุงุน ูุนุจ: Classic, Sprint, Marathon, Ultra

### ๐จ ุงูุชุฎุตูุต
- 12 ุซูู ูุฎุชูู (ูุฌุงูู + ูููุฒ + VIP)
- 5 ุฃุดูุงู ูููุฑุจุนุงุช
- ุชุฃุซูุฑุงุช ุจุตุฑูุฉ (glow, particles, scanlines)
- ูุถุน ูููู/ููุงุฑู

### ๐ ุงูุตูุช
- ุฃุตูุงุช ูุชุนุฏุฏุฉ ููู ุญุฏุซ
- ููุณููู ุฎูููุฉ
- ุงูุชุฒุงุฒ (Haptic feedback)
- ุชุญูู ุจุงูุตูุช

### ๐ ูุธุงู ุงูุฌูุงุฆุฒ
- ูุณุงุจูุงุช ููููุฉ/ุฃุณุจูุนูุฉ
- ุฌูุงุฆุฒ ููุฏูุฉ
- ููุญุฉ ุงููุชุตุฏุฑูู
- ูุธุงู ุงูุฅูุฌุงุฒุงุช
- ุนุฌูุฉ ุงูุญุธ

### ๐ฌ ูุธุงู ุงูุฏุฑุฏุดุฉ (ุฌุฏูุฏ V68)
- ุฏุฑุฏุดุฉ ูุจุงุดุฑุฉ ุจูู ุงููุงุนุจูู
- ๐ ููุญุฉ ุฅูููุฌู (16 ุฅูููุฌู)
- ๐จ ุฃููุงู ูุฎุชููุฉ ููู ูุงุนุจ
- ๐ ุฑุชุจ ูููุชุตุฏุฑูู (๐โญ๐ฎ)
- โฉ๏ธ ุงูุฑุฏ ุนูู ุงูุฑุณุงุฆู
- ๐ ุตูุช ุฅุดุนุงุฑ ููุฑุณุงุฆู ุงูุฌุฏูุฏุฉ
- โ๏ธ ูุธุงู ุงูุฅุจูุงุบ ุนู ุงูุฑุณุงุฆู
- ๐ ุญุธุฑ ุงููุณุชุฎุฏููู ุงููุณูุฆูู
- ๐ซ ููุชุฑ ุงููููุงุช ุงููุญุธูุฑุฉ
- #๏ธโฃ ุฃุณูุงุก ูุฑูุฏุฉ (ุงูุงุณู#1234)

### ๐จโ๐ผ ููุญุฉ ุงูุชุญูู
- ุฅุฏุงุฑุฉ ุงููุงุนุจูู
- ุฅุฏุงุฑุฉ ุงูุฌูุงุฆุฒ
- ุชุญุฏูุฏ ุงููุงุฆุฒูู
- ุฅุนุฏุงุฏุงุช ุงููููุน
- ูุธุงู ุงููุฑูุน
- ุชูุงุฑูุฑ ูุฅุญุตุงุฆูุงุช
- **ุฅุฏุงุฑุฉ ุงูุฏุฑุฏุดุฉ** (ุฌุฏูุฏ)
  - ุชุดุบูู/ุฅููุงู ุงูุฏุฑุฏุดุฉ
  - ุญุฐู ุงูุฑุณุงุฆู
  - ุญุธุฑ ุงููุณุชุฎุฏููู
  - ุฅุฏุงุฑุฉ ุงููููุงุช ุงููุญุธูุฑุฉ

---

## ๐ ูููู ุงููุดุฑูุน

```
tetris/
โโโ server.js              # ุงูุณูุฑูุฑ ุงูุฑุฆูุณู
โโโ package.json           # ุงูุชุจุนูุงุช
โโโ .env                   # ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
โโโ config/
โ   โโโ database.js        # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ middleware/
โ   โโโ auth.js            # ุงูุชุญูู ูู ุงููููุฉ
โ   โโโ security-pg.js     # ุงูุญูุงูุฉ
โโโ routes/
โ   โโโ admin.js           # ูุณุงุฑุงุช ุงูุฃุฏูู
โ   โโโ auth.js            # ูุณุงุฑุงุช ุงูุชุณุฌูู
โ   โโโ branch.js          # ูุณุงุฑุงุช ุงููุฑูุน
โ   โโโ game.js            # ูุณุงุฑุงุช ุงููุนุจุฉ
โ   โโโ wheel.js           # ุนุฌูุฉ ุงูุญุธ
โโโ public/
โ   โโโ index.html         # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ game.html          # ุตูุญุฉ ุงููุนุจุฉ + ุงูุฏุฑุฏุดุฉ
โ   โโโ ctrl_x7k9m2p4.html # ููุญุฉ ุงูุชุญูู
โ   โโโ desktop.html       # ูุณุฎุฉ ุณุทุญ ุงูููุชุจ
โ   โโโ css/               # ูููุงุช ุงูุณุชุงูู
โ   โโโ js/                # ูููุงุช JavaScript
โ   โโโ uploads/           # ุงูุตูุฑ ุงููุฑููุนุฉ
โโโ utils/
    โโโ helpers.js         # ุฏูุงู ูุณุงุนุฏุฉ
```

---

## ๐ ุงูุชุซุจูุช

### ุงููุชุทูุจุงุช
- Node.js 18+
- PostgreSQL 14+
- PM2 (ุงุฎุชูุงุฑู)

### ุงูุฎุทูุงุช

```bash
# 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone https://github.com/username/tetris.git
cd tetris

# 2. ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
sudo -u postgres psql
CREATE DATABASE tetris_db;
CREATE USER mohamed WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE tetris_db TO mohamed;
\q

# 4. ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ
cp .env.example .env
nano .env

# 5. ุชุดุบูู ุงูุณูุฑูุฑ
node server.js
# ุฃู ุจุงุณุชุฎุฏุงู PM2
pm2 start server.js --name tetris
```

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช (.env)

```env
# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tetris_db
DB_USER=mohamed
DB_PASSWORD=your_password

# Server
PORT=3000
NODE_ENV=production

# JWT
JWT_SECRET=your_secret_key

# Admin
ADMIN_USERNAME=admin
ADMIN_PASSWORD=Admin@2024!
```

---

## ๐ฌ ูุธุงู ุงูุฏุฑุฏุดุฉ

### ุงูุฌุฏุงูู

```sql
-- ุงูุฑุณุงุฆู
CREATE TABLE chat_messages (
    id SERIAL PRIMARY KEY,
    player_phone VARCHAR(20) NOT NULL,
    player_name VARCHAR(100) NOT NULL,
    message TEXT NOT NULL,
    reply_to_id INTEGER,
    reply_to_name VARCHAR(100),
    reply_to_text VARCHAR(100),
    is_deleted BOOLEAN DEFAULT false,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ุงููุญุธูุฑูู
CREATE TABLE chat_banned_users (
    id SERIAL PRIMARY KEY,
    phone VARCHAR(20) UNIQUE NOT NULL,
    reason TEXT,
    banned_by VARCHAR(50),
    expires_at TIMESTAMP
);

-- ุงููููุงุช ุงููุญุธูุฑุฉ
CREATE TABLE chat_bad_words (
    id SERIAL PRIMARY KEY,
    word VARCHAR(100) UNIQUE NOT NULL
);

-- ุงูุฅุจูุงุบุงุช
CREATE TABLE chat_reports (
    id SERIAL PRIMARY KEY,
    message_id INTEGER NOT NULL,
    reporter_phone VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### ุงูู APIs

| Method | Endpoint | ุงููุตู |
|--------|----------|-------|
| GET | `/api/chat/messages` | ุฌูุจ ุงูุฑุณุงุฆู |
| POST | `/api/chat/send` | ุฅุฑุณุงู ุฑุณุงูุฉ |
| POST | `/api/chat/report` | ุงูุฅุจูุงุบ ุนู ุฑุณุงูุฉ |
| POST | `/api/admin/chat/toggle` | ุชุดุบูู/ุฅููุงู |
| GET | `/api/admin/chat/status` | ุญุงูุฉ ุงูุฏุฑุฏุดุฉ |
| DELETE | `/api/admin/chat/message/:id` | ุญุฐู ุฑุณุงูุฉ |
| POST | `/api/admin/chat/ban` | ุญุธุฑ ูุณุชุฎุฏู |
| DELETE | `/api/admin/chat/ban/:phone` | ุฑูุน ุงูุญุธุฑ |
| POST | `/api/admin/chat/bad-word` | ุฅุถุงูุฉ ูููุฉ ูุญุธูุฑุฉ |

---

## ๐ ุงูุฃูุงู

- โ Rate Limiting (15 ุทูุจ/ุฏูููุฉ)
- โ ููุชุฑ ุงููููุงุช ุงููุญุธูุฑุฉ
- โ ุชุนููู ุงูุฅุฏุฎุงู (XSS Protection)
- โ ุญุฏ ุฃูุตู ูุทูู ุงูุฑุณุงูุฉ (200 ุญุฑู)
- โ ุญุธุฑ ุงููุณุชุฎุฏููู ุงููุณูุฆูู
- โ ูุธุงู ุงูุฅุจูุงุบ
- โ JWT Authentication ููุฃุฏูู

---

## ๐ฑ ูุงุฌูุฉ ุงูุฏุฑุฏุดุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฌ ุฏุฑุฏุดุฉ ุงููุงุนุจูู    โ ูุชุตู โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ุฃุญูุฏ#1234               โ
โ โโโโโโโโโโโโโโโโโโโโโโโ    โ
โ โ ูุฑุญุจุง ุจุงูุฌููุน! ๐ฎ   โ    โ
โ โโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                    10:30 โ๏ธโ
โ                            โ
โ            โญ ุณุงุฑุฉ#5678    โ
โ    โโโโโโโโโโโโโโโโโโโโโโโ โ
โ    โ โฉ๏ธ ุฃุญูุฏ: ูุฑุญุจุง...   โ โ
โ    โ ุฃููุงู ูุณููุงู! ๐    โ โ
โ    โโโโโโโโโโโโโโโโโโโโโโโ โ
โ                    10:31   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [๐] [ุงูุชุจ ุฑุณุงูุชู...] [โค] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุณุฌู ุงูุชุญุฏูุซุงุช

### V68 (2025-01-17)
- โ ูุธุงู ุฏุฑุฏุดุฉ ูุงูู
- โ ุฅูููุฌู ูููุญุฉ ุงุฎุชูุงุฑ
- โ ุฃููุงู ูุฎุชููุฉ ููุฃุณูุงุก
- โ ุฑุชุจ ุงููุชุตุฏุฑูู (๐โญ๐ฎ)
- โ ุงูุฑุฏ ุนูู ุงูุฑุณุงุฆู
- โ ุตูุช ุฅุดุนุงุฑ
- โ ูุธุงู ุงูุฅุจูุงุบ
- โ ุฃุณูุงุก ูุฑูุฏุฉ (#1234)
- โ ุฅุฏุงุฑุฉ ุงูุฏุฑุฏุดุฉ ูู ููุญุฉ ุงูุชุญูู

### V67
- โ ุฅุตูุงุญ ูุดููุฉ token ูู ููุญุฉ ุงูุชุญูู
- โ ุฅุตูุงุญ ุนุฑุถ ุงูุฑุณุงุฆู

### V66
- โ ุฅุตูุงุญ ุฒุฑ ุงูุชุดุบูู/ุงูุฅููุงู
- โ ุฅุถุงูุฉ setSetting function

### V65
- โ ูุธุงู ุงูุฏุฑุฏุดุฉ ุงูุฃุณุงุณู

---

## ๐จโ๐ป ุงููุทูุฑ

**Mohammed** - Red Strong Team

---

## ๐ ุงูุฑุฎุตุฉ

MIT License - ุงูุธุฑ ููู [LICENSE](LICENSE)
